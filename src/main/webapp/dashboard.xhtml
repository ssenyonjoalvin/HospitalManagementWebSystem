<ui:composition template="/template/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:p="http://primefaces.org/ui">

    <ui:define name="content">
        <div class="container mt-4">
            <div class="row g-4 mb-4">
                <div class="col-md-3">
                    <div class="card text-center shadow-sm rounded-3">
                        <div class="card-body">
                            <h6 class="card-title text-muted">Patients</h6>
                            <span class="display-4 fw-bold text-primary">#{dashboardBean.totalPatients}</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-center shadow-sm rounded-3">
                        <div class="card-body">
                            <h6 class="card-title text-muted">Appointments</h6>
                            <span class="display-4 fw-bold text-info">#{dashboardBean.totalAppointments}</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-center shadow-sm rounded-3">
                        <div class="card-body">
                            <h6 class="card-title text-muted">Pending Appointments</h6>
                            <span class="display-4 fw-bold text-warning">#{dashboardBean.pendingAppointments}</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-center shadow-sm rounded-3">
                        <div class="card-body">
                            <h6 class="card-title text-muted">Invoices</h6>
                            <span class="display-4 fw-bold text-success">#{dashboardBean.totalInvoices}</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-center shadow-sm rounded-3">
                        <div class="card-body">
                            <h6 class="card-title text-muted">Paid Invoices</h6>
                            <span class="display-4 fw-bold text-success">#{dashboardBean.paidInvoices}</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-center shadow-sm rounded-3">
                        <div class="card-body">
                            <h6 class="card-title text-muted">Medicines</h6>
                            <span class="display-4 fw-bold text-secondary">#{dashboardBean.totalMedicines}</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-center shadow-sm rounded-3">
                        <div class="card-body">
                            <h6 class="card-title text-muted">Services</h6>
                            <span class="display-4 fw-bold text-secondary">#{dashboardBean.totalServices}</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row g-4 mb-4">
                <div class="col-md-6">
                    <div class="card shadow-sm rounded-3 h-100">
                        <div class="card-body">
                            <h5 class="card-title mb-3">Patient Visits</h5>
                            <p:lineChart model="#{dashboardBean.lineModel}" style="width:100%;height:300px;" />
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card shadow-sm rounded-3 h-100">
                        <div class="card-body">
                            <h5 class="card-title mb-3">Gender Distribution</h5>
                            <p:donutChart model="#{dashboardBean.donutModel}" style="width:100%;height:300px;" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="row g-4 mb-4">
                <div class="col-md-6">
                    <div class="card shadow-sm rounded-3 h-100">
                        <div class="card-body">
                            <h5 class="card-title mb-3">Recent Appointments</h5>
                            <p:dataTable value="#{dashboardBean.recentAppointments}" var="appt" rows="5"
                                styleClass="table table-striped table-hover">
                                <p:column headerText="Patient">
                                    <h:outputText value="#{appt.patient.fullName}" />
                                </p:column>
                                <p:column headerText="Doctor">
                                    <h:outputText value="#{appt.doctor.fullName}" />
                                </p:column>
                                <p:column headerText="Date">
                                    <h:outputText value="#{appt.appointmentDate}" />
                                </p:column>
                                <p:column headerText="Status">
                                    <h:outputText value="#{appt.status}" />
                                </p:column>
                            </p:dataTable>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card shadow-sm rounded-3 h-100">
                        <div class="card-body">
                            <h5 class="card-title mb-3">Recent Invoices</h5>
                            <p:dataTable value="#{dashboardBean.recentInvoices}" var="inv" rows="5"
                                styleClass="table table-striped table-hover">
                                <p:column headerText="Patient">
                                    <h:outputText value="#{inv.patient.fullName}" />
                                </p:column>
                                <p:column headerText="Amount">
                                    <h:outputText value="#{inv.totalAmount}" />
                                </p:column>
                                <p:column headerText="Status">
                                    <h:outputText value="#{inv.status}" />
                                </p:column>
                            </p:dataTable>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </ui:define>
</ui:composition>